var e=Object.defineProperty,t=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,r=(t,s,a)=>s in t?e(t,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):t[s]=a;import{S as o,i as n,s as i,j as l,m as c,o as d,x as u,u as h,v as f,k as p,l as $,al as m,d as g,n as y,f as v,w as b,D as w,J as j,e as k,t as x,c as P,a as D,g as E,b as S,I as C,Z as O,r as z}from"../../chunks/vendor-e7929d70.js";import{g as I}from"../../chunks/navigation-2ffed81e.js";import{C as R}from"../../chunks/Content-e0e5bad6.js";import{B as M}from"../../chunks/Button-ceae2c79.js";import{f as Y,i as _,s as A}from"../../chunks/survey-schema-481feb4b.js";import"../../chunks/singletons-12a22614.js";function H(e){let t,s;return t=new R({props:{results:e[1],$$slots:{"call-to-action":[F,({validated:e,formattedResults:t})=>({8:e,9:t}),({validated:e,formattedResults:t})=>(e?256:0)|(t?512:0)],description:[L],title:[J]},$$scope:{ctx:e}}}),{c(){l(t.$$.fragment)},l(e){c(t.$$.fragment,e)},m(e,a){d(t,e,a),s=!0},p(e,s){const a={};2&s&&(a.results=e[1]),1283&s&&(a.$$scope={dirty:s,ctx:e}),t.$set(a)},i(e){s||(u(t.$$.fragment,e),s=!0)},o(e){h(t.$$.fragment,e),s=!1},d(e){f(t,e)}}}function J(e){let t,s;return{c(){t=k("span"),s=x("Manage Profile"),this.h()},l(e){t=P(e,"SPAN",{slot:!0});var a=D(t);s=E(a,"Manage Profile"),a.forEach(g),this.h()},h(){S(t,"slot","title")},m(e,a){v(e,t,a),C(t,s)},d(e){e&&g(t)}}}function L(e){let t,s;return{c(){t=k("p"),s=x("Here's what you've shared with us so far. You can update, add, or rescind your answers as \n        you see fit. Just a reminder, this info helps us better understand the representitivity of our study\n        participants, and we'll always ask before we share this data with a research collaborator."),this.h()},l(e){t=P(e,"P",{slot:!0});var a=D(t);s=E(a,"Here's what you've shared with us so far. You can update, add, or rescind your answers as \n        you see fit. Just a reminder, this info helps us better understand the representitivity of our study\n        participants, and we'll always ask before we share this data with a research collaborator."),a.forEach(g),this.h()},h(){S(t,"slot","description")},m(e,a){v(e,t,a),C(t,s)},d(e){e&&g(t)}}}function U(e){let t;return{c(){t=x("Save Changes")},l(e){t=E(e,"Save Changes")},m(e,s){v(e,t,s)},d(e){e&&g(t)}}}function B(e){let t;return{c(){t=x("Cancel")},l(e){t=E(e,"Cancel")},m(e,s){v(e,t,s)},d(e){e&&g(t)}}}function F(e){let t,s,a,r,o,n,i,$;return o=new M({props:{size:"lg",product:!0,leave:!e[8],disabled:!e[8],$$slots:{default:[U]},$$scope:{ctx:e}}}),o.$on("click",(function(){return e[6](e[9])})),i=new M({props:{size:"lg",product:!0,disabled:!e[8],secondary:!0,$$slots:{default:[B]},$$scope:{ctx:e}}}),i.$on("click",e[7]),{c(){t=k("div"),s=k("hr"),a=p(),r=k("div"),l(o.$$.fragment),n=p(),l(i.$$.fragment),this.h()},l(e){t=P(e,"DIV",{slot:!0});var l=D(t);s=P(l,"HR",{}),a=y(l),r=P(l,"DIV",{style:!0});var d=D(r);c(o.$$.fragment,d),n=y(d),c(i.$$.fragment,d),d.forEach(g),l.forEach(g),this.h()},h(){O(r,"display","grid"),O(r,"grid-auto-flow","column"),O(r,"grid-column-gap","12px"),O(r,"width","max-content"),S(t,"slot","call-to-action")},m(e,l){v(e,t,l),C(t,s),C(t,a),C(t,r),d(o,r,null),C(r,n),d(i,r,null),$=!0},p(t,s){e=t;const a={};256&s&&(a.leave=!e[8]),256&s&&(a.disabled=!e[8]),1024&s&&(a.$$scope={dirty:s,ctx:e}),o.$set(a);const r={};256&s&&(r.disabled=!e[8]),1024&s&&(r.$$scope={dirty:s,ctx:e}),i.$set(r)},i(e){$||(u(o.$$.fragment,e),u(i.$$.fragment,e),$=!0)},o(e){h(o.$$.fragment,e),h(i.$$.fragment,e),$=!1},d(e){e&&g(t),f(o),f(i)}}}function N(e){let t,s,a,r=e[0]._initialized&&H(e);return{c(){t=p(),r&&r.c(),s=$(),this.h()},l(e){m('[data-svelte="svelte-ymc5yu"]',document.head).forEach(g),t=y(e),r&&r.l(e),s=$(),this.h()},h(){document.title="Manage Your Profile | Mozilla Rally"},m(e,o){v(e,t,o),r&&r.m(e,o),v(e,s,o),a=!0},p(e,[t]){e[0]._initialized?r?(r.p(e,t),1&t&&u(r,1)):(r=H(e),r.c(),u(r,1),r.m(s.parentNode,s)):r&&(z(),h(r,1,1,(()=>{r=null})),b())},i(e){a||(u(r),a=!0)},o(e){h(r),a=!1},d(e){e&&g(t),r&&r.d(e),e&&g(s)}}}function V(e,o,n){let i,l;const c=w("rally:store");j(e,c,(e=>n(0,i=e)));const d=w("rally:isAuthenticated");j(e,d,(e=>n(5,l=e)));const u=w("rally:notifications");let h;return e.$$.update=()=>{32&e.$$.dirty&&!1===l&&I("/signup"),1&e.$$.dirty&&i.user&&i.user.demographicsData&&n(1,h=Y(A,Object.assign({},i.user.demographicsData),_))},[i,h,c,d,u,l,e=>{c.updateDemographicSurvey(e),I("/studies"),u.send({code:"SUCCESSFULLY_UPDATED_PROFILE"})},()=>{n(1,h=Y(A,((e,o)=>{for(var n in o||(o={}))s.call(o,n)&&r(e,n,o[n]);if(t)for(var n of t(o))a.call(o,n)&&r(e,n,o[n]);return e})({},i.user.demographicsData),_)),I("/studies")}]}class T extends o{constructor(e){super(),n(this,e,V,N,i,{})}}export{T as default};
