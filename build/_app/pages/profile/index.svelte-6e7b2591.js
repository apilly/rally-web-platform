var t=Object.defineProperty,e=Object.getOwnPropertySymbols,s=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable,r=(e,s,a)=>s in e?t(e,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[s]=a;import{S as o,i as n,s as i,j as l,m as c,o as d,x as u,u as f,v as h,k as p,l as $,al as m,d as g,n as y,f as v,w as b,D as w,J as j,e as k,t as x,c as P,a as D,g as E,b as S,I as C,Z as O,r as z}from"../../chunks/vendor-c0074b30.js";import{g as I}from"../../chunks/navigation-2ffed81e.js";import{C as R}from"../../chunks/Content-c53aeff3.js";import{B as M}from"../../chunks/Button-670c2bd6.js";import{f as Y,i as _,s as A}from"../../chunks/survey-schema-481feb4b.js";import"../../chunks/singletons-12a22614.js";function H(t){let e,s;return e=new R({props:{results:t[1],$$slots:{"call-to-action":[F,({validated:t,formattedResults:e})=>({8:t,9:e}),({validated:t,formattedResults:e})=>(t?256:0)|(e?512:0)],description:[L],title:[J]},$$scope:{ctx:t}}}),{c(){l(e.$$.fragment)},l(t){c(e.$$.fragment,t)},m(t,a){d(e,t,a),s=!0},p(t,s){const a={};2&s&&(a.results=t[1]),1283&s&&(a.$$scope={dirty:s,ctx:t}),e.$set(a)},i(t){s||(u(e.$$.fragment,t),s=!0)},o(t){f(e.$$.fragment,t),s=!1},d(t){h(e,t)}}}function J(t){let e,s;return{c(){e=k("span"),s=x("Manage Profile"),this.h()},l(t){e=P(t,"SPAN",{slot:!0});var a=D(e);s=E(a,"Manage Profile"),a.forEach(g),this.h()},h(){S(e,"slot","title")},m(t,a){v(t,e,a),C(e,s)},d(t){t&&g(e)}}}function L(t){let e,s;return{c(){e=k("p"),s=x("Here's what you've shared with us so far. You can update, add, or rescind your answers as \n        you see fit. Just a reminder, this info helps us better understand the representitivity of our study\n        participants, and we'll always ask before we share this data with a research collaborator."),this.h()},l(t){e=P(t,"P",{slot:!0});var a=D(e);s=E(a,"Here's what you've shared with us so far. You can update, add, or rescind your answers as \n        you see fit. Just a reminder, this info helps us better understand the representitivity of our study\n        participants, and we'll always ask before we share this data with a research collaborator."),a.forEach(g),this.h()},h(){S(e,"slot","description")},m(t,a){v(t,e,a),C(e,s)},d(t){t&&g(e)}}}function U(t){let e;return{c(){e=x("Save Changes")},l(t){e=E(t,"Save Changes")},m(t,s){v(t,e,s)},d(t){t&&g(e)}}}function B(t){let e;return{c(){e=x("Cancel")},l(t){e=E(t,"Cancel")},m(t,s){v(t,e,s)},d(t){t&&g(e)}}}function F(t){let e,s,a,r,o,n,i,$;return o=new M({props:{size:"lg",product:!0,leave:!t[8],disabled:!t[8],$$slots:{default:[U]},$$scope:{ctx:t}}}),o.$on("click",(function(){return t[6](t[9])})),i=new M({props:{size:"lg",product:!0,disabled:!t[8],secondary:!0,$$slots:{default:[B]},$$scope:{ctx:t}}}),i.$on("click",t[7]),{c(){e=k("div"),s=k("hr"),a=p(),r=k("div"),l(o.$$.fragment),n=p(),l(i.$$.fragment),this.h()},l(t){e=P(t,"DIV",{slot:!0});var l=D(e);s=P(l,"HR",{}),a=y(l),r=P(l,"DIV",{style:!0});var d=D(r);c(o.$$.fragment,d),n=y(d),c(i.$$.fragment,d),d.forEach(g),l.forEach(g),this.h()},h(){O(r,"display","grid"),O(r,"grid-auto-flow","column"),O(r,"grid-column-gap","12px"),O(r,"width","max-content"),S(e,"slot","call-to-action")},m(t,l){v(t,e,l),C(e,s),C(e,a),C(e,r),d(o,r,null),C(r,n),d(i,r,null),$=!0},p(e,s){t=e;const a={};256&s&&(a.leave=!t[8]),256&s&&(a.disabled=!t[8]),1024&s&&(a.$$scope={dirty:s,ctx:t}),o.$set(a);const r={};256&s&&(r.disabled=!t[8]),1024&s&&(r.$$scope={dirty:s,ctx:t}),i.$set(r)},i(t){$||(u(o.$$.fragment,t),u(i.$$.fragment,t),$=!0)},o(t){f(o.$$.fragment,t),f(i.$$.fragment,t),$=!1},d(t){t&&g(e),h(o),h(i)}}}function N(t){let e,s,a,r=t[0]._initialized&&H(t);return{c(){e=p(),r&&r.c(),s=$(),this.h()},l(t){m('[data-svelte="svelte-ymc5yu"]',document.head).forEach(g),e=y(t),r&&r.l(t),s=$(),this.h()},h(){document.title="Manage Your Profile | Mozilla Rally"},m(t,o){v(t,e,o),r&&r.m(t,o),v(t,s,o),a=!0},p(t,[e]){t[0]._initialized?r?(r.p(t,e),1&e&&u(r,1)):(r=H(t),r.c(),u(r,1),r.m(s.parentNode,s)):r&&(z(),f(r,1,1,(()=>{r=null})),b())},i(t){a||(u(r),a=!0)},o(t){f(r),a=!1},d(t){t&&g(e),r&&r.d(t),t&&g(s)}}}function V(t,o,n){let i,l;const c=w("rally:store");j(t,c,(t=>n(0,i=t)));const d=w("rally:isAuthenticated");j(t,d,(t=>n(5,l=t)));const u=w("rally:notifications");let f;return t.$$.update=()=>{32&t.$$.dirty&&!1===l&&I("/signup"),1&t.$$.dirty&&i.user&&i.user.demographicsData&&n(1,f=Y(A,Object.assign({},i.user.demographicsData),_))},[i,f,c,d,u,l,t=>{c.updateDemographicSurvey(t),I("/studies"),u.send({code:"SUCCESSFULLY_UPDATED_PROFILE"})},()=>{n(1,f=Y(A,((t,o)=>{for(var n in o||(o={}))s.call(o,n)&&r(t,n,o[n]);if(e)for(var n of e(o))a.call(o,n)&&r(t,n,o[n]);return t})({},i.user.demographicsData),_)),I("/studies")}]}class T extends o{constructor(t){super(),n(this,t,V,N,i,{})}}export{T as default};
